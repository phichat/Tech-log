/**
 * Module dependencies.
 */
<<<<<<< HEAD
var postcss = require("postcss")
var color = require("color")("rebeccapurple").rgbString()
=======
const postcss = require("postcss")
const valueParser = require("postcss-value-parser")
const color = "#639"
>>>>>>> 09665636ba9818fc952cd8bfe693d791912356d2

/**
 * PostCSS plugin to convert colors
 */
<<<<<<< HEAD
module.exports = postcss.plugin("postcss-color-rebeccapurple", function() {
  return function(style) {
    style.walkDecls(function(decl) {
      var value = decl.value;

      if (value && value.indexOf("rebeccapurple") !== -1) {
        decl.value = value.replace(/(rebeccapurple)\b/gi, color)
      }
    })
  }
=======
module.exports = postcss.plugin("postcss-color-rebeccapurple", () => (style) => {
  style.walkDecls((decl) => {
    const value = decl.value;

    if (value && value.indexOf("rebeccapurple") !== -1) {
      decl.value = valueParser(value).walk((node) => {
        if (node.type === "word" && node.value === "rebeccapurple") {
          node.value = color
        }
      }).toString()
    }
  })
>>>>>>> 09665636ba9818fc952cd8bfe693d791912356d2
})
