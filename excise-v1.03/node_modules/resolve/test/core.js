var test = require('tape');
<<<<<<< HEAD
=======
var keys = require('object-keys');
>>>>>>> 09665636ba9818fc952cd8bfe693d791912356d2
var resolve = require('../');

test('core modules', function (t) {
    t.test('isCore()', function (st) {
        st.ok(resolve.isCore('fs'));
        st.ok(resolve.isCore('net'));
        st.ok(resolve.isCore('http'));

        st.ok(!resolve.isCore('seq'));
        st.ok(!resolve.isCore('../'));
        st.end();
    });

    t.test('core list', function (st) {
<<<<<<< HEAD
        st.plan(resolve.core.length);

        for (var i = 0; i < resolve.core.length; ++i) {
            st.doesNotThrow(
                function () { require(resolve.core[i]); }, // eslint-disable-line no-loop-func
                'requiring ' + resolve.core[i] + ' does not throw'
            );
=======
        var cores = keys(resolve.core);
        st.plan(cores.length);

        for (var i = 0; i < cores.length; ++i) {
            var mod = cores[i];
            if (resolve.core[mod]) {
                st.doesNotThrow(
                    function () { require(mod); }, // eslint-disable-line no-loop-func
                    'requiring ' + mod + ' does not throw'
                );
            } else {
                st.skip(mod + ' not supported');
            }
>>>>>>> 09665636ba9818fc952cd8bfe693d791912356d2
        }

        st.end();
    });

    t.end();
});
