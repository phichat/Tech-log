"use strict";

<<<<<<< HEAD
var fs = require("fs");
/**
 * Read the file and cache the result
 * return the result in cache
 *
 * @example
 * var read = require('./helpers/fsExists')({});
 * read('.babelrc'); // file contents...
 */
module.exports = function (cache) {
  cache = cache || {};

  return function (filename) {
    if (!filename) {
      throw new Error("filename must be a string");
    }

    cache[filename] = cache[filename] || fs.readFileSync(filename, "utf8");

    return cache[filename];
  };
=======
var path = require("path");

module.exports = function readBabelConfig(fileSystem, filename) {
  if (path.basename(filename) === "package.json") {
    var pkg = require(filename);

    return JSON.stringify(pkg.babel);
  }

  // Webpack `fs` return Buffer
  return fileSystem.readFileSync(filename).toString("utf8");
>>>>>>> 09665636ba9818fc952cd8bfe693d791912356d2
};